---
import Layout from "@/layouts/Layout.astro";
import { DashboardView } from "@/components/views/DashboardView";

// User is guaranteed to be authenticated by middleware
// Get session for access token
const {
  data: { session },
} = await Astro.locals.supabase.auth.getSession();
const accessToken = session?.access_token || "";
---

<Layout title="Dashboard - Piggy Bank">
  <DashboardView client:load accessToken={accessToken} />
</Layout>
<my-test>
</mytest>
